import{e as o,w as f}from"./ValidationMessage-652c88f6.js";import{a as d,_ as p}from"./create-form-0a4ac59b.js";function n(e){const r=e.config;if(e.stage==="SETUP"){if(!r.__felteReporterSvelteId){const t=d(21);r.__felteReporterSvelteId=t,o[t]=e.errors,f[t]=e.warnings}return{}}return e.form.hasAttribute("data-felte-reporter-svelte-id")||(e.form.dataset.felteReporterSvelteId=r.__felteReporterSvelteId),{onSubmitError(){const t=e&&e.form.querySelector('[aria-invalid="true"]:not([type="hidden"])');t&&t.focus()}}}function c(e){return!e||"preventFocusOnError"in e?r=>n(r):n(e)}function u(e){function r(t){return t.issues.reduce((i,a)=>a.path?p(i,a.path.join("."),s=>!s||!Array.isArray(s)?[a.message]:[...s,a.message]):i,{})}return async function(i){try{await e.parseAsync(i)}catch(a){return r(a)}}}export{c as r,u as v};
