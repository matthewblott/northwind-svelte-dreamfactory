import{S as $e,i as he,s as be,k as o,q as P,a as g,x as re,l as n,m as _,r as U,h as i,c as $,y as oe,n as h,b as ne,I as e,z as le,O as se,P as ie,f as ue,t as ce,A as fe,_ as ye}from"../../../../../chunks/index-867ab049.js";import{D as Ee}from"../../../../../chunks/delete-9fe709b0.js";import{S as Ce}from"../../../../../chunks/save-6c65ae61.js";import{X as De}from"../../../../../chunks/x-square-e5035e27.js";import{a as Ie,C as _e}from"../../../../../chunks/category-e8b76436.js";import{g as me}from"../../../../../chunks/navigation-8c5881c7.js";function Ne(b){let u,j,S,a,y,E,c,F,l,f,T,q,m,d,H,D,O,B,r,A,M,V,C,R,x,k,G,J,I,X,K,w,Q,W,N,z,Y,L,Z,de;return E=new Ce({}),f=new Ee({}),d=new De({}),{c(){u=o("h1"),j=P("Category"),S=g(),a=o("form"),y=o("button"),re(E.$$.fragment),c=P(" Save"),F=g(),l=o("button"),re(f.$$.fragment),T=P(" Delete"),q=g(),m=o("button"),re(d.$$.fragment),H=P(" Cancel"),D=g(),O=o("div"),B=g(),r=o("fieldset"),A=o("label"),M=P("Id"),V=g(),C=o("input"),x=g(),k=o("label"),G=P("Name"),J=g(),I=o("input"),K=g(),w=o("label"),Q=P("Description"),W=g(),N=o("input"),Y=o("br"),this.h()},l(t){u=n(t,"H1",{});var p=_(u);j=U(p,"Category"),p.forEach(i),S=$(t),a=n(t,"FORM",{});var v=_(a);y=n(v,"BUTTON",{});var ee=_(y);oe(E.$$.fragment,ee),c=U(ee," Save"),ee.forEach(i),F=$(v),l=n(v,"BUTTON",{});var te=_(l);oe(f.$$.fragment,te),T=U(te," Delete"),te.forEach(i),q=$(v),m=n(v,"BUTTON",{});var ae=_(m);oe(d.$$.fragment,ae),H=U(ae," Cancel"),ae.forEach(i),D=$(v),O=n(v,"DIV",{class:!0}),_(O).forEach(i),B=$(v),r=n(v,"FIELDSET",{});var s=_(r);A=n(s,"LABEL",{for:!0});var pe=_(A);M=U(pe,"Id"),pe.forEach(i),V=$(s),C=n(s,"INPUT",{id:!0,name:!0}),x=$(s),k=n(s,"LABEL",{for:!0});var ve=_(k);G=U(ve,"Name"),ve.forEach(i),J=$(s),I=n(s,"INPUT",{id:!0,name:!0}),K=$(s),w=n(s,"LABEL",{for:!0});var ge=_(w);Q=U(ge,"Description"),ge.forEach(i),W=$(s),N=n(s,"INPUT",{id:!0,name:!0}),Y=n(s,"BR",{}),s.forEach(i),v.forEach(i),this.h()},h(){h(O,"class","filler"),h(A,"for","CategoryId"),h(C,"id","CategoryId"),h(C,"name","CategoryId"),C.value=R=b[0].CategoryId,C.readOnly=!0,h(k,"for","CategoryName"),h(I,"id","CategoryName"),h(I,"name","CategoryName"),I.value=X=b[0].CategoryName,h(w,"for","Description"),h(N,"id","Description"),h(N,"name","Description"),N.value=z=b[0].Description},m(t,p){ne(t,u,p),e(u,j),ne(t,S,p),ne(t,a,p),e(a,y),le(E,y,null),e(y,c),e(a,F),e(a,l),le(f,l,null),e(l,T),e(a,q),e(a,m),le(d,m,null),e(m,H),e(a,D),e(a,O),e(a,B),e(a,r),e(r,A),e(A,M),e(r,V),e(r,C),e(r,x),e(r,k),e(k,G),e(r,J),e(r,I),e(r,K),e(r,w),e(w,Q),e(r,W),e(r,N),e(r,Y),L=!0,Z||(de=[se(y,"click",ie(b[1])),se(l,"click",ie(b[2])),se(m,"click",ie(b[3]))],Z=!0)},p(t,[p]){(!L||p&1&&R!==(R=t[0].CategoryId)&&C.value!==R)&&(C.value=R),(!L||p&1&&X!==(X=t[0].CategoryName)&&I.value!==X)&&(I.value=X),(!L||p&1&&z!==(z=t[0].Description)&&N.value!==z)&&(N.value=z)},i(t){L||(ue(E.$$.fragment,t),ue(f.$$.fragment,t),ue(d.$$.fragment,t),L=!0)},o(t){ce(E.$$.fragment,t),ce(f.$$.fragment,t),ce(d.$$.fragment,t),L=!1},d(t){t&&i(u),t&&i(S),t&&i(a),fe(E),fe(f),fe(d),Z=!1,ye(de)}}}function Se(b,u,j){let{data:S}=u;const a=c=>{const l=c.target.closest("form"),f=l.querySelectorAll(".error"),T=l.querySelector("fieldset");f.forEach(D=>{T.removeChild(D)});const q=new FormData(l),m=Object.fromEntries(q),d=Ie.safeParse(m);d.success&&(_e.update(m),me("/categories")),d.error.issues.forEach(D=>{const O=l.querySelector(`#${D.path[0]}`),B=document.createElement("span");B.className="error",B.innerText=D.message,O.after(B)})},y=c=>{const T=c.target.closest("form").querySelector("#CategoryId").value,q=parseInt(T);_e.remove(q),me("/categories")},E=()=>{me("/categories")};return b.$$set=c=>{"data"in c&&j(0,S=c.data)},[S,a,y,E]}class Ue extends $e{constructor(u){super(),he(this,u,Se,Ne,be,{data:0})}}export{Ue as default};
