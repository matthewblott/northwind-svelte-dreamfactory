import{S as ce,i as fe,s as me,k as o,q as D,a as _,x as ee,l as n,m as g,r as T,h as i,c as h,y as te,n as $,b as K,I as e,z as ae,O as re,P as se,C as ue,f as oe,t as ne,A as le,_ as de}from"../../../../../chunks/index-867ab049.js";import{S as pe}from"../../../../../chunks/save-6c65ae61.js";import{X as _e}from"../../../../../chunks/x-square-e5035e27.js";import{a as ge,C as he}from"../../../../../chunks/category-e8b76436.js";import{g as ie}from"../../../../../chunks/navigation-8c5881c7.js";function $e(B){let m,P,y,r,l,u,q,L,c,f,w,d,p,v,a,E,U,j,C,k,N,F,R,O,X,S,z,H,x,M,A,V,Q;return u=new pe({}),f=new _e({}),{c(){m=o("h1"),P=D("Category"),y=_(),r=o("form"),l=o("button"),ee(u.$$.fragment),q=D(" Save"),L=_(),c=o("button"),ee(f.$$.fragment),w=D(" Cancel"),d=_(),p=o("div"),v=_(),a=o("fieldset"),E=o("label"),U=D("Id"),j=_(),C=o("input"),k=_(),N=o("label"),F=D("Name"),R=_(),O=o("input"),X=_(),S=o("label"),z=D("Description"),H=_(),x=o("input"),M=o("br"),this.h()},l(t){m=n(t,"H1",{});var I=g(m);P=T(I,"Category"),I.forEach(i),y=h(t),r=n(t,"FORM",{});var b=g(r);l=n(b,"BUTTON",{});var G=g(l);te(u.$$.fragment,G),q=T(G," Save"),G.forEach(i),L=h(b),c=n(b,"BUTTON",{});var J=g(c);te(f.$$.fragment,J),w=T(J," Cancel"),J.forEach(i),d=h(b),p=n(b,"DIV",{class:!0}),g(p).forEach(i),v=h(b),a=n(b,"FIELDSET",{});var s=g(a);E=n(s,"LABEL",{for:!0});var W=g(E);U=T(W,"Id"),W.forEach(i),j=h(s),C=n(s,"INPUT",{id:!0}),k=h(s),N=n(s,"LABEL",{for:!0});var Y=g(N);F=T(Y,"Name"),Y.forEach(i),R=h(s),O=n(s,"INPUT",{id:!0,name:!0}),X=h(s),S=n(s,"LABEL",{for:!0});var Z=g(S);z=T(Z,"Description"),Z.forEach(i),H=h(s),x=n(s,"INPUT",{id:!0,name:!0}),M=n(s,"BR",{}),s.forEach(i),b.forEach(i),this.h()},h(){$(p,"class","filler"),$(E,"for","CategoryId"),$(C,"id","CategoryId"),C.value="[New]",C.readOnly=!0,$(N,"for","CategoryName"),$(O,"id","CategoryName"),$(O,"name","CategoryName"),$(S,"for","Description"),$(x,"id","Description"),$(x,"name","Description")},m(t,I){K(t,m,I),e(m,P),K(t,y,I),K(t,r,I),e(r,l),ae(u,l,null),e(l,q),e(r,L),e(r,c),ae(f,c,null),e(c,w),e(r,d),e(r,p),e(r,v),e(r,a),e(a,E),e(E,U),e(a,j),e(a,C),e(a,k),e(a,N),e(N,F),e(a,R),e(a,O),e(a,X),e(a,S),e(S,z),e(a,H),e(a,x),e(a,M),A=!0,V||(Q=[re(l,"click",se(B[0])),re(c,"click",se(B[1]))],V=!0)},p:ue,i(t){A||(oe(u.$$.fragment,t),oe(f.$$.fragment,t),A=!0)},o(t){ne(u.$$.fragment,t),ne(f.$$.fragment,t),A=!1},d(t){t&&i(m),t&&i(y),t&&i(r),le(u),le(f),V=!1,de(Q)}}}function be(B){return[async y=>{const l=y.target.closest("form"),u=l.querySelectorAll(".error"),q=l.querySelector("fieldset");u.forEach(d=>{q.removeChild(d)});const L=new FormData(l),c=Object.fromEntries(L),f=ge.safeParse(c);if(f.success){const p=`/categories/${await he.create(c)}`;ie(p)}f.error.issues.forEach(d=>{const p=l.querySelector(`#${d.path[0]}`),v=document.createElement("span");v.className="error",v.innerText=d.message,p.after(v)})},()=>{ie("/categories")}]}class Se extends ce{constructor(m){super(),fe(this,m,be,$e,me,{})}}export{Se as default};
