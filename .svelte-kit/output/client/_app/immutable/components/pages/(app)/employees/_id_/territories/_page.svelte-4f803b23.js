import{S as ne,i as fe,s as ie,k as E,q as M,a as H,x as U,l as y,m as T,r as N,h as f,c as B,y as W,n as z,b as O,I as l,z as Y,O as ce,P as me,f as X,d as ue,t as L,A as j,W as he,J as pe,o as _e,u as re,g as de}from"../../../../../../chunks/index-867ab049.js";import{E as $e}from"../../../../../../chunks/edit-058cb14e.js";import{P as ge,a as Ee}from"../../../../../../chunks/Pager-3c02cb40.js";import{X as ye}from"../../../../../../chunks/x-square-e5035e27.js";import"../../../../../../chunks/index-4d8f42c1.js";import{E as Te}from"../../../../../../chunks/employee-territory-9dd90625.js";import{g as oe}from"../../../../../../chunks/navigation-8c5881c7.js";import{p as ve}from"../../../../../../chunks/stores-a7d73af8.js";async function be(m,t,a){const n=`EmployeeId=${a}`;return await Te.fetchFilteredPaged(m,t,n)}function ae(m,t,a){const n=m.slice();return n[9]=t[a].EmployeeId,n[10]=t[a].TerritoryId,n[11]=t[a].TerritoryDescription,n}function se(m){let t,a,n=m[10]+"",u,b,$,g=m[11]+"",v,w,h,c,r,D,I,d;return r=new $e({}),{c(){t=E("tr"),a=E("td"),u=M(n),b=H(),$=E("td"),v=M(g),w=H(),h=E("td"),c=E("a"),U(r.$$.fragment),I=H(),this.h()},l(p){t=y(p,"TR",{});var _=T(t);a=y(_,"TD",{scope:!0});var S=T(a);u=N(S,n),S.forEach(f),b=B(_),$=y(_,"TD",{});var k=T($);v=N(k,g),k.forEach(f),w=B(_),h=y(_,"TD",{});var q=T(h);c=y(q,"A",{href:!0});var F=T(c);W(r.$$.fragment,F),F.forEach(f),q.forEach(f),I=B(_),_.forEach(f),this.h()},h(){z(a,"scope","row"),z(c,"href",D="/employees/"+m[9]+"/territories/"+m[10])},m(p,_){O(p,t,_),l(t,a),l(a,u),l(t,b),l(t,$),l($,v),l(t,w),l(t,h),l(h,c),Y(r,c,null),l(t,I),d=!0},p(p,_){(!d||_&1)&&n!==(n=p[10]+"")&&re(u,n),(!d||_&1)&&g!==(g=p[11]+"")&&re(v,g),(!d||_&1&&D!==(D="/employees/"+p[9]+"/territories/"+p[10]))&&z(c,"href",D)},i(p){d||(X(r.$$.fragment,p),d=!0)},o(p){L(r.$$.fragment,p),d=!1},d(p){p&&f(t),j(r)}}}function De(m){let t,a,n,u,b,$,g,v,w,h,c,r,D,I,d,p,_,S,k,q,F,J,R,G,Q;u=new ge({props:{limit:10,count:m[1]}}),u.$on("next",m[3]),g=new ye({}),q=new Ee({});let C=m[0],o=[];for(let e=0;e<C.length;e+=1)o[e]=se(ae(m,C,e));const le=e=>L(o[e],1,1,()=>{o[e]=null});return{c(){t=E("h1"),a=M("Territories"),n=H(),U(u.$$.fragment),b=H(),$=E("button"),U(g.$$.fragment),v=M(" Cancel"),w=H(),h=E("table"),c=E("thead"),r=E("th"),D=M("Id"),I=H(),d=E("th"),p=M("Description"),_=H(),S=E("th"),k=E("a"),U(q.$$.fragment),F=H(),J=E("tbody");for(let e=0;e<o.length;e+=1)o[e].c();this.h()},l(e){t=y(e,"H1",{});var s=T(t);a=N(s,"Territories"),s.forEach(f),n=B(e),W(u.$$.fragment,e),b=B(e),$=y(e,"BUTTON",{});var P=T($);W(g.$$.fragment,P),v=N(P," Cancel"),P.forEach(f),w=B(e),h=y(e,"TABLE",{role:!0});var i=T(h);c=y(i,"THEAD",{});var A=T(c);r=y(A,"TH",{scope:!0});var V=T(r);D=N(V,"Id"),V.forEach(f),I=B(A),d=y(A,"TH",{scope:!0});var Z=T(d);p=N(Z,"Description"),Z.forEach(f),_=B(A),S=y(A,"TH",{});var x=T(S);k=y(x,"A",{href:!0});var ee=T(k);W(q.$$.fragment,ee),ee.forEach(f),x.forEach(f),A.forEach(f),F=B(i),J=y(i,"TBODY",{});var te=T(J);for(let K=0;K<o.length;K+=1)o[K].l(te);te.forEach(f),i.forEach(f),this.h()},h(){z(r,"scope","col"),z(d,"scope","col"),z(k,"href","/employees/"+m[2]+"/territories/new"),z(h,"role","grid")},m(e,s){O(e,t,s),l(t,a),O(e,n,s),Y(u,e,s),O(e,b,s),O(e,$,s),Y(g,$,null),l($,v),O(e,w,s),O(e,h,s),l(h,c),l(c,r),l(r,D),l(c,I),l(c,d),l(d,p),l(c,_),l(c,S),l(S,k),Y(q,k,null),l(h,F),l(h,J);for(let P=0;P<o.length;P+=1)o[P].m(J,null);R=!0,G||(Q=ce($,"click",me(m[4])),G=!0)},p(e,[s]){const P={};if(s&2&&(P.count=e[1]),u.$set(P),s&1){C=e[0];let i;for(i=0;i<C.length;i+=1){const A=ae(e,C,i);o[i]?(o[i].p(A,s),X(o[i],1)):(o[i]=se(A),o[i].c(),X(o[i],1),o[i].m(J,null))}for(de(),i=C.length;i<o.length;i+=1)le(i);ue()}},i(e){if(!R){X(u.$$.fragment,e),X(g.$$.fragment,e),X(q.$$.fragment,e);for(let s=0;s<C.length;s+=1)X(o[s]);R=!0}},o(e){L(u.$$.fragment,e),L(g.$$.fragment,e),L(q.$$.fragment,e),o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)L(o[s]);R=!1},d(e){e&&f(t),e&&f(n),j(u,e),e&&f(b),e&&f($),j(g),e&&f(w),e&&f(h),j(q),he(o,e),G=!1,Q()}}}function we(m,t,a){let n,u,b;pe(m,ve,r=>a(5,b=r));const g=b.url.pathname.split("/").filter(r=>r!==""),v=parseInt(g[1]),w=r=>{const D=r.detail.offset;h(D)},h=async(r=0)=>{const I=await be(10,r,v),d=`/employees/${v}/territories?limit=${10}&offset=${r}`;oe(d),a(1,u=I.meta.count),a(0,n=I.resource)},c=()=>{oe(`/employees/${v}`)};return _e(()=>{h()}),a(0,n=[]),a(1,u=0),[n,u,v,w,c]}class Ce extends ne{constructor(t){super(),fe(this,t,we,De,ie,{})}}export{Ce as default};
