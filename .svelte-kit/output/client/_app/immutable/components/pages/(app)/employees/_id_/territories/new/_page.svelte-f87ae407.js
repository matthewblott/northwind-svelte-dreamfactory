import{S as Q,i as x,s as ee,Y,a as I,x as L,c as w,y as q,b as v,z as A,Z as re,f as B,t as D,h as m,A as F,o as le,k as p,q as g,l as h,m as d,r as y,I as _,u as R,e as U,n as $,W as ae,C as te,O as ne,P as oe,$ as ie,_ as se,J as fe}from"../../../../../../../chunks/index-867ab049.js";import{T as ue}from"../../../../../../../chunks/territory-06cbe7fc.js";import{V as me}from"../../../../../../../chunks/Validation-fc70f5a9.js";import{v as ce,r as _e}from"../../../../../../../chunks/index-5fe216d9.js";import{S as pe}from"../../../../../../../chunks/save-6c65ae61.js";import{X as he}from"../../../../../../../chunks/x-square-e5035e27.js";import{E as de,a as ve}from"../../../../../../../chunks/employee-territory-9dd90625.js";import{g as Z}from"../../../../../../../chunks/navigation-8c5881c7.js";import{p as be}from"../../../../../../../chunks/stores-a7d73af8.js";import{c as $e}from"../../../../../../../chunks/create-form-0a4ac59b.js";function j(o,e,n){const a=o.slice();return a[4]=e[n].TerritoryId,a[5]=e[n].TerritoryDescription,a}function ge(o){let e,n,a=o[8].message+"",r;return{c(){e=p("p"),n=g("Something went wrong: "),r=g(a)},l(t){e=h(t,"P",{});var l=d(e);n=y(l,"Something went wrong: "),r=y(l,a),l.forEach(m)},m(t,l){v(t,e,l),_(e,n),_(e,r)},p(t,l){l&4&&a!==(a=t[8].message+"")&&R(r,a)},d(t){t&&m(e)}}}function ye(o){let e,n=o[3]&&G(o);return{c(){n&&n.c(),e=U()},l(a){n&&n.l(a),e=U()},m(a,r){n&&n.m(a,r),v(a,e,r)},p(a,r){a[3]?n?n.p(a,r):(n=G(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(a){n&&n.d(a),a&&m(e)}}}function G(o){let e,n,a,r,t,l=o[3],i=[];for(let s=0;s<l.length;s+=1)i[s]=K(j(o,l,s));return{c(){e=p("label"),n=g("Territory"),a=I(),r=p("select"),t=p("option");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=h(s,"LABEL",{for:!0});var u=d(e);n=y(u,"Territory"),u.forEach(m),a=w(s),r=h(s,"SELECT",{name:!0,id:!0});var f=d(r);t=h(f,"OPTION",{}),d(t).forEach(m);for(let b=0;b<i.length;b+=1)i[b].l(f);f.forEach(m),this.h()},h(){$(e,"for",o[1]),t.__value="",t.value=t.__value,$(r,"name",o[1]),$(r,"id",o[1])},m(s,u){v(s,e,u),_(e,n),v(s,a,u),v(s,r,u),_(r,t);for(let f=0;f<i.length;f+=1)i[f].m(r,null)},p(s,u){if(u&2&&$(e,"for",s[1]),u&9){l=s[3];let f;for(f=0;f<l.length;f+=1){const b=j(s,l,f);i[f]?i[f].p(b,u):(i[f]=K(b),i[f].c(),i[f].m(r,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=l.length}u&2&&$(r,"name",s[1]),u&2&&$(r,"id",s[1])},d(s){s&&m(e),s&&m(a),s&&m(r),ae(i,s)}}}function Ee(o){let e,n=o[5]+"",a,r;return{c(){e=p("option"),a=g(n),this.h()},l(t){e=h(t,"OPTION",{});var l=d(e);a=y(l,n),l.forEach(m),this.h()},h(){e.__value=r=o[4],e.value=e.__value},m(t,l){v(t,e,l),_(e,a)},p(t,l){l&8&&n!==(n=t[5]+"")&&R(a,n),l&8&&r!==(r=t[4])&&(e.__value=r,e.value=e.__value)},d(t){t&&m(e)}}}function ke(o){let e,n=o[5]+"",a,r;return{c(){e=p("option"),a=g(n),this.h()},l(t){e=h(t,"OPTION",{});var l=d(e);a=y(l,n),l.forEach(m),this.h()},h(){e.__value=r=o[4],e.value=e.__value,e.selected=!0},m(t,l){v(t,e,l),_(e,a)},p(t,l){l&8&&n!==(n=t[5]+"")&&R(a,n),l&8&&r!==(r=t[4])&&(e.__value=r,e.value=e.__value)},d(t){t&&m(e)}}}function K(o){let e;function n(t,l){return t[4]===t[0]?ke:Ee}let a=n(o),r=a(o);return{c(){r.c(),e=U()},l(t){r.l(t),e=U()},m(t,l){r.m(t,l),v(t,e,l)},p(t,l){a===(a=n(t))&&r?r.p(t,l):(r.d(1),r=a(t),r&&(r.c(),r.m(e.parentNode,e)))},d(t){r.d(t),t&&m(e)}}}function Te(o){let e,n;return{c(){e=p("p"),n=g("Loading ...")},l(a){e=h(a,"P",{});var r=d(e);n=y(r,"Loading ..."),r.forEach(m)},m(a,r){v(a,e,r),_(e,n)},p:te,d(a){a&&m(e)}}}function Se(o){let e,n,a,r,t={ctx:o,current:null,token:null,hasCatch:!0,pending:Te,then:ye,catch:ge,error:8};return Y(e=o[2],t),a=new me({props:{name:o[1]}}),{c(){t.block.c(),n=I(),L(a.$$.fragment)},l(l){t.block.l(l),n=w(l),q(a.$$.fragment,l)},m(l,i){t.block.m(l,t.anchor=i),t.mount=()=>n.parentNode,t.anchor=n,v(l,n,i),A(a,l,i),r=!0},p(l,[i]){o=l,t.ctx=o,i&4&&e!==(e=o[2])&&Y(e,t)||re(t,o,i);const s={};i&2&&(s.name=o[1]),a.$set(s)},i(l){r||(B(a.$$.fragment,l),r=!0)},o(l){D(a.$$.fragment,l),r=!1},d(l){t.block.d(l),t.token=null,t=null,l&&m(n),F(a,l)}}}function Ie(o,e,n){let a=Promise.resolve(),{value:r}=e,{name:t="Territory"}=e,l=[];return le(async()=>{n(2,a=await ue.fetchAll()),n(3,l=a.resource)}),o.$$set=i=>{"value"in i&&n(0,r=i.value),"name"in i&&n(1,t=i.name)},[r,t,a,l]}class we extends Q{constructor(e){super(),x(this,e,Ie,Se,ee,{value:0,name:1})}}function Oe(o){let e,n,a,r,t,l,i,s,u,f,b,V,N,M,T,E,X,S,P,z,W;return l=new pe({}),f=new he({}),S=new we({props:{name:"TerritoryId"}}),{c(){e=p("h1"),n=g("Employee Territory"),a=I(),r=p("form"),t=p("button"),L(l.$$.fragment),i=g(" Save"),s=I(),u=p("button"),L(f.$$.fragment),b=g("Cancel"),V=I(),N=p("div"),M=I(),T=p("fieldset"),E=p("input"),X=I(),L(S.$$.fragment),this.h()},l(c){e=h(c,"H1",{});var O=d(e);n=y(O,"Employee Territory"),O.forEach(m),a=w(c),r=h(c,"FORM",{});var k=d(r);t=h(k,"BUTTON",{});var H=d(t);q(l.$$.fragment,H),i=y(H," Save"),H.forEach(m),s=w(k),u=h(k,"BUTTON",{});var J=d(u);q(f.$$.fragment,J),b=y(J,"Cancel"),J.forEach(m),V=w(k),N=h(k,"DIV",{class:!0}),d(N).forEach(m),M=w(k),T=h(k,"FIELDSET",{});var C=d(T);E=h(C,"INPUT",{id:!0,name:!0,type:!0,class:!0}),X=w(C),q(S.$$.fragment,C),C.forEach(m),k.forEach(m),this.h()},h(){$(N,"class","filler"),$(E,"id","EmployeeId"),$(E,"name","EmployeeId"),$(E,"type","number"),E.value=o[0],$(E,"class","hidden")},m(c,O){v(c,e,O),_(e,n),v(c,a,O),v(c,r,O),_(r,t),A(l,t,null),_(t,i),_(r,s),_(r,u),A(f,u,null),_(u,b),_(r,V),_(r,N),_(r,M),_(r,T),_(T,E),_(T,X),A(S,T,null),P=!0,z||(W=[ne(u,"click",oe(o[2])),ie(o[1].call(null,r))],z=!0)},p:te,i(c){P||(B(l.$$.fragment,c),B(f.$$.fragment,c),B(S.$$.fragment,c),P=!0)},o(c){D(l.$$.fragment,c),D(f.$$.fragment,c),D(S.$$.fragment,c),P=!1},d(c){c&&m(e),c&&m(a),c&&m(r),F(l),F(f),F(S),z=!1,se(W)}}}function Ne(o,e,n){let a;fe(o,be,u=>n(3,a=u));const t=a.url.pathname.split("/").filter(u=>u!==""),l=parseInt(t[1]),{form:i}=$e({async onSubmit(u){const f=await de.create(u),b=`/employees/${l}/territories/${f}`;Z(b)},validate:ce(ve),extend:[_e]});return[l,i,()=>{Z(`/employees/${l}/territories`)}]}class Me extends Q{constructor(e){super(),x(this,e,Ne,Oe,ee,{})}}export{Me as default};
