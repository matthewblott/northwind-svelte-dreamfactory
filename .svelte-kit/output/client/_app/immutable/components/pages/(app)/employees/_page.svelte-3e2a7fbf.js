import{S as U,i as V,s as X,Y as J,k as E,q as H,a as T,x as R,e as K,l as v,m as $,r as N,h as _,c as D,y as W,b as A,I as h,z as Z,Z as x,f as I,t as C,A as j,u as F,C as z,n as B,g as ee,d as te,W as oe}from"../../../../chunks/index-867ab049.js";import{E as ae}from"../../../../chunks/edit-058cb14e.js";import{P as re,a as le}from"../../../../chunks/Pager-3c02cb40.js";import{g as ne}from"../../../../chunks/navigation-8c5881c7.js";import{E as se}from"../../../../chunks/employee-3aa8d5ed.js";import"../../../../chunks/index-4d8f42c1.js";async function ce(c,e){return await se.fetchPaged(c,e)}function M(c,e,a){const t=c.slice();return t[5]=e[a].EmployeeId,t[6]=e[a].FirstName,t[7]=e[a].LastName,t}function fe(c){let e=c[10]+"",a;return{c(){a=H(e)},l(t){a=N(t,e)},m(t,s){A(t,a,s)},p(t,s){s&1&&e!==(e=t[10]+"")&&F(a,e)},i:z,o:z,d(t){t&&_(a)}}}function ie(c){let e,a,t,s,d,m,p,g,i,r,f,k,y,w;f=new le({});let b=c[4].resource,u=[];for(let l=0;l<b.length;l+=1)u[l]=Q(M(c,b,l));const S=l=>C(u[l],1,1,()=>{u[l]=null});return{c(){e=E("table"),a=E("thead"),t=E("th"),s=H("Id"),d=T(),m=E("th"),p=H("Name"),g=T(),i=E("th"),r=E("a"),R(f.$$.fragment),k=T(),y=E("tbody");for(let l=0;l<u.length;l+=1)u[l].c();this.h()},l(l){e=v(l,"TABLE",{role:!0});var n=$(e);a=v(n,"THEAD",{});var o=$(a);t=v(o,"TH",{scope:!0});var P=$(t);s=N(P,"Id"),P.forEach(_),d=D(o),m=v(o,"TH",{scope:!0});var q=$(m);p=N(q,"Name"),q.forEach(_),g=D(o),i=v(o,"TH",{});var L=$(i);r=v(L,"A",{href:!0});var Y=$(r);W(f.$$.fragment,Y),Y.forEach(_),L.forEach(_),o.forEach(_),k=D(n),y=v(n,"TBODY",{});var G=$(y);for(let O=0;O<u.length;O+=1)u[O].l(G);G.forEach(_),n.forEach(_),this.h()},h(){B(t,"scope","col"),B(m,"scope","col"),B(r,"href","/employees/new"),B(e,"role","grid")},m(l,n){A(l,e,n),h(e,a),h(a,t),h(t,s),h(a,d),h(a,m),h(m,p),h(a,g),h(a,i),h(i,r),Z(f,r,null),h(e,k),h(e,y);for(let o=0;o<u.length;o+=1)u[o].m(y,null);w=!0},p(l,n){if(n&1){b=l[4].resource;let o;for(o=0;o<b.length;o+=1){const P=M(l,b,o);u[o]?(u[o].p(P,n),I(u[o],1)):(u[o]=Q(P),u[o].c(),I(u[o],1),u[o].m(y,null))}for(ee(),o=b.length;o<u.length;o+=1)S(o);te()}},i(l){if(!w){I(f.$$.fragment,l);for(let n=0;n<b.length;n+=1)I(u[n]);w=!0}},o(l){C(f.$$.fragment,l),u=u.filter(Boolean);for(let n=0;n<u.length;n+=1)C(u[n]);w=!1},d(l){l&&_(e),j(f),oe(u,l)}}}function Q(c){let e,a,t=c[5]+"",s,d,m,p=c[6]+"",g,i,r=c[7]+"",f,k,y,w,b,u,S,l;return b=new ae({}),{c(){e=E("tr"),a=E("td"),s=H(t),d=T(),m=E("td"),g=H(p),i=T(),f=H(r),k=T(),y=E("td"),w=E("a"),R(b.$$.fragment),S=T(),this.h()},l(n){e=v(n,"TR",{});var o=$(e);a=v(o,"TD",{scope:!0});var P=$(a);s=N(P,t),P.forEach(_),d=D(o),m=v(o,"TD",{});var q=$(m);g=N(q,p),i=D(q),f=N(q,r),q.forEach(_),k=D(o),y=v(o,"TD",{});var L=$(y);w=v(L,"A",{href:!0});var Y=$(w);W(b.$$.fragment,Y),Y.forEach(_),L.forEach(_),S=D(o),o.forEach(_),this.h()},h(){B(a,"scope","row"),B(w,"href",u="/employees/"+c[5])},m(n,o){A(n,e,o),h(e,a),h(a,s),h(e,d),h(e,m),h(m,g),h(m,i),h(m,f),h(e,k),h(e,y),h(y,w),Z(b,w,null),h(e,S),l=!0},p(n,o){(!l||o&1)&&t!==(t=n[5]+"")&&F(s,t),(!l||o&1)&&p!==(p=n[6]+"")&&F(g,p),(!l||o&1)&&r!==(r=n[7]+"")&&F(f,r),(!l||o&1&&u!==(u="/employees/"+n[5]))&&B(w,"href",u)},i(n){l||(I(b.$$.fragment,n),l=!0)},o(n){C(b.$$.fragment,n),l=!1},d(n){n&&_(e),j(b)}}}function ue(c){let e,a;return{c(){e=E("p"),a=H("waiting for the promise to resolve...")},l(t){e=v(t,"P",{});var s=$(e);a=N(s,"waiting for the promise to resolve..."),s.forEach(_)},m(t,s){A(t,e,s),h(e,a)},p:z,i:z,o:z,d(t){t&&_(e)}}}function he(c){let e,a,t,s,d,m,p,g;s=new re({props:{limit:10,count:c[1]}}),s.$on("next",c[2]);let i={ctx:c,current:null,token:null,hasCatch:!0,pending:ue,then:ie,catch:fe,value:4,error:10,blocks:[,,,]};return J(p=c[0],i),{c(){e=E("h1"),a=H("Employees"),t=T(),R(s.$$.fragment),d=T(),m=K(),i.block.c()},l(r){e=v(r,"H1",{});var f=$(e);a=N(f,"Employees"),f.forEach(_),t=D(r),W(s.$$.fragment,r),d=D(r),m=K(),i.block.l(r)},m(r,f){A(r,e,f),h(e,a),A(r,t,f),Z(s,r,f),A(r,d,f),A(r,m,f),i.block.m(r,i.anchor=f),i.mount=()=>m.parentNode,i.anchor=m,g=!0},p(r,[f]){c=r;const k={};f&2&&(k.count=c[1]),s.$set(k),i.ctx=c,f&1&&p!==(p=c[0])&&J(p,i)||x(i,c,f)},i(r){g||(I(s.$$.fragment,r),I(i.block),g=!0)},o(r){C(s.$$.fragment,r);for(let f=0;f<3;f+=1){const k=i.blocks[f];C(k)}g=!1},d(r){r&&_(e),r&&_(t),j(s,r),r&&_(d),r&&_(m),i.block.d(r),i.token=null,i=null}}}function me(c,e,a){let t,s,{data:d}=e;const m=async p=>{const g=p.detail.offset,i=10,r=`?limit=${i}&offset=${g}`;ne(r),a(0,t=await ce(i,g)),a(1,s=t.meta.count)};return c.$$set=p=>{"data"in p&&a(3,d=p.data)},c.$$.update=()=>{c.$$.dirty&8&&a(0,t=d),c.$$.dirty&1&&a(1,s=t.meta.count)},[t,s,m,d]}class ve extends U{constructor(e){super(),V(this,e,me,he,X,{data:3})}}export{ve as default};
