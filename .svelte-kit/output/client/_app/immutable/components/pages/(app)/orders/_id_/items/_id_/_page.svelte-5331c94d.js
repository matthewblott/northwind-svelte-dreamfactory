import{S as ce,i as pe,s as $e,k as c,q as M,a as m,x as T,l as p,m as _,r as Q,h as l,c as d,y as P,n as D,b as oe,I as t,z as w,O as ie,P as fe,$ as ge,C as Ie,f as N,t as x,A as q,_ as _e,J as he}from"../../../../../../../chunks/index-867ab049.js";import{v as be,r as ve}from"../../../../../../../chunks/index-5fe216d9.js";import{D as Oe}from"../../../../../../../chunks/delete-9fe709b0.js";import{S as Ee}from"../../../../../../../chunks/save-6c65ae61.js";import{X as Se}from"../../../../../../../chunks/x-square-e5035e27.js";import{O as ue}from"../../../../../../../chunks/order-details-54433f3c.js";import{O as ye}from"../../../../../../../chunks/order-details-cb769fe6.js";import{g as se}from"../../../../../../../chunks/navigation-8c5881c7.js";import{N as me}from"../../../../../../../chunks/NumberField-dfb85c92.js";import{T as Te}from"../../../../../../../chunks/TextField-1e475603.js";import{p as Pe}from"../../../../../../../chunks/stores-a7d73af8.js";import{c as De}from"../../../../../../../chunks/create-form-0a4ac59b.js";function we(h){let i,U,b,r,v,$,X,z,g,I,n,F,s,f,H,B,C,J,a,V,j,G,k,K,L,W,O,Y,E,Z,S,ee,y,R,te,le;return $=new Ee({}),I=new Oe({}),f=new Se({}),O=new Te({props:{name:"ProductName"}}),E=new me({props:{name:"UnitPrice"}}),S=new me({props:{name:"Quantity"}}),y=new me({props:{name:"Discount"}}),{c(){i=c("h1"),U=M("Order Item"),b=m(),r=c("form"),v=c("button"),T($.$$.fragment),X=M("Save"),z=m(),g=c("button"),T(I.$$.fragment),n=M("Delete"),F=m(),s=c("button"),T(f.$$.fragment),H=M(" Cancel"),B=m(),C=c("div"),J=m(),a=c("fieldset"),V=c("label"),j=M("Order Id"),G=m(),k=c("input"),K=m(),L=c("input"),W=m(),T(O.$$.fragment),Y=m(),T(E.$$.fragment),Z=m(),T(S.$$.fragment),ee=m(),T(y.$$.fragment),this.h()},l(e){i=p(e,"H1",{});var A=_(i);U=Q(A,"Order Item"),A.forEach(l),b=d(e),r=p(e,"FORM",{});var u=_(r);v=p(u,"BUTTON",{});var re=_(v);P($.$$.fragment,re),X=Q(re,"Save"),re.forEach(l),z=d(u),g=p(u,"BUTTON",{});var ae=_(g);P(I.$$.fragment,ae),n=Q(ae,"Delete"),ae.forEach(l),F=d(u),s=p(u,"BUTTON",{});var ne=_(s);P(f.$$.fragment,ne),H=Q(ne," Cancel"),ne.forEach(l),B=d(u),C=p(u,"DIV",{class:!0}),_(C).forEach(l),J=d(u),a=p(u,"FIELDSET",{});var o=_(a);V=p(o,"LABEL",{for:!0});var de=_(V);j=Q(de,"Order Id"),de.forEach(l),G=d(o),k=p(o,"INPUT",{id:!0,name:!0}),K=d(o),L=p(o,"INPUT",{id:!0,name:!0,type:!0}),W=d(o),P(O.$$.fragment,o),Y=d(o),P(E.$$.fragment,o),Z=d(o),P(S.$$.fragment,o),ee=d(o),P(y.$$.fragment,o),o.forEach(l),u.forEach(l),this.h()},h(){D(C,"class","filler"),D(V,"for","OrderId"),D(k,"id","OrderId"),D(k,"name","OrderId"),k.readOnly=!0,D(L,"id","ProductId"),D(L,"name","ProductId"),D(L,"type","hidden")},m(e,A){oe(e,i,A),t(i,U),oe(e,b,A),oe(e,r,A),t(r,v),w($,v,null),t(v,X),t(r,z),t(r,g),w(I,g,null),t(g,n),t(r,F),t(r,s),w(f,s,null),t(s,H),t(r,B),t(r,C),t(r,J),t(r,a),t(a,V),t(V,j),t(a,G),t(a,k),t(a,K),t(a,L),t(a,W),w(O,a,null),t(a,Y),w(E,a,null),t(a,Z),w(S,a,null),t(a,ee),w(y,a,null),R=!0,te||(le=[ie(g,"click",fe(h[1])),ie(s,"click",fe(h[2])),ge(h[0].call(null,r))],te=!0)},p:Ie,i(e){R||(N($.$$.fragment,e),N(I.$$.fragment,e),N(f.$$.fragment,e),N(O.$$.fragment,e),N(E.$$.fragment,e),N(S.$$.fragment,e),N(y.$$.fragment,e),R=!0)},o(e){x($.$$.fragment,e),x(I.$$.fragment,e),x(f.$$.fragment,e),x(O.$$.fragment,e),x(E.$$.fragment,e),x(S.$$.fragment,e),x(y.$$.fragment,e),R=!1},d(e){e&&l(i),e&&l(b),e&&l(r),q($),q(I),q(f),q(O),q(E),q(S),q(y),te=!1,_e(le)}}}function Ne(h,i,U){let b;he(h,Pe,n=>U(4,b=n));let{data:r}=i;const $=b.url.pathname.split("/").filter(n=>n!==""),X=parseInt($[1]),{form:z}=De({initialValues:r.resource[0],async onSubmit(n){const F=n.OrderId,s=n.ProductId;await ue.update(n);const f=`/orders/${F}/items/${s}`;se(f)},validate:be(ye),extend:[ve]}),g=n=>{const s=n.target.closest("form"),H=s.querySelector("#OrderId").value,B=parseInt(H),J=s.querySelector("#ProductId").value,a=parseInt(J);ue.remove(B,a),se(`/orders/${B}/items`)},I=()=>{se(`/orders/${X}/items`)};return h.$$set=n=>{"data"in n&&U(3,r=n.data)},[z,g,I,r]}class He extends ce{constructor(i){super(),pe(this,i,Ne,we,$e,{data:3})}}export{He as default};
