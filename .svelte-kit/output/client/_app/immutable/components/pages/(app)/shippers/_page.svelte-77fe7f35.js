import{S as U,i as V,s as X,Y as J,k as v,q as C,a as P,x as L,e as K,l as E,m as w,r as I,h as u,c as A,y as O,b as D,I as h,z as R,Z as x,f as H,t as N,A as W,u as z,C as B,n as q,g as ee,d as te,W as re}from"../../../../chunks/index-867ab049.js";import{E as oe}from"../../../../chunks/edit-058cb14e.js";import{P as ae,a as le}from"../../../../chunks/Pager-3c02cb40.js";import{g as ne}from"../../../../chunks/navigation-8c5881c7.js";import{S as se}from"../../../../chunks/shipper-5b33cd97.js";import"../../../../chunks/index-4d8f42c1.js";async function ce(s,e){return await se.fetchPaged(s,e)}function M(s,e,o){const t=s.slice();return t[5]=e[o].ShipperId,t[6]=e[o].CompanyName,t}function fe(s){let e=s[9]+"",o;return{c(){o=C(e)},l(t){o=I(t,e)},m(t,n){D(t,o,n)},p(t,n){n&1&&e!==(e=t[9]+"")&&z(o,e)},i:B,o:B,d(t){t&&u(o)}}}function ie(s){let e,o,t,n,d,p,_,g,f,r,l,b,T,y;l=new le({});let $=s[4].resource,a=[];for(let i=0;i<$.length;i+=1)a[i]=Q(M(s,$,i));const k=i=>N(a[i],1,1,()=>{a[i]=null});return{c(){e=v("table"),o=v("thead"),t=v("th"),n=C("Id"),d=P(),p=v("th"),_=C("Name"),g=P(),f=v("th"),r=v("a"),L(l.$$.fragment),b=P(),T=v("tbody");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=E(i,"TABLE",{role:!0});var m=w(e);o=E(m,"THEAD",{});var c=w(o);t=E(c,"TH",{scope:!0});var S=w(t);n=I(S,"Id"),S.forEach(u),d=A(c),p=E(c,"TH",{scope:!0});var Z=w(p);_=I(Z,"Name"),Z.forEach(u),g=A(c),f=E(c,"TH",{});var j=w(f);r=E(j,"A",{href:!0});var F=w(r);O(l.$$.fragment,F),F.forEach(u),j.forEach(u),c.forEach(u),b=A(m),T=E(m,"TBODY",{});var G=w(T);for(let Y=0;Y<a.length;Y+=1)a[Y].l(G);G.forEach(u),m.forEach(u),this.h()},h(){q(t,"scope","col"),q(p,"scope","col"),q(r,"href","/shippers/new"),q(e,"role","grid")},m(i,m){D(i,e,m),h(e,o),h(o,t),h(t,n),h(o,d),h(o,p),h(p,_),h(o,g),h(o,f),h(f,r),R(l,r,null),h(e,b),h(e,T);for(let c=0;c<a.length;c+=1)a[c].m(T,null);y=!0},p(i,m){if(m&1){$=i[4].resource;let c;for(c=0;c<$.length;c+=1){const S=M(i,$,c);a[c]?(a[c].p(S,m),H(a[c],1)):(a[c]=Q(S),a[c].c(),H(a[c],1),a[c].m(T,null))}for(ee(),c=$.length;c<a.length;c+=1)k(c);te()}},i(i){if(!y){H(l.$$.fragment,i);for(let m=0;m<$.length;m+=1)H(a[m]);y=!0}},o(i){N(l.$$.fragment,i),a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)N(a[m]);y=!1},d(i){i&&u(e),W(l),re(a,i)}}}function Q(s){let e,o,t=s[5]+"",n,d,p,_=s[6]+"",g,f,r,l,b,T,y,$;return b=new oe({}),{c(){e=v("tr"),o=v("td"),n=C(t),d=P(),p=v("td"),g=C(_),f=P(),r=v("td"),l=v("a"),L(b.$$.fragment),y=P(),this.h()},l(a){e=E(a,"TR",{});var k=w(e);o=E(k,"TD",{scope:!0});var i=w(o);n=I(i,t),i.forEach(u),d=A(k),p=E(k,"TD",{});var m=w(p);g=I(m,_),m.forEach(u),f=A(k),r=E(k,"TD",{});var c=w(r);l=E(c,"A",{href:!0});var S=w(l);O(b.$$.fragment,S),S.forEach(u),c.forEach(u),y=A(k),k.forEach(u),this.h()},h(){q(o,"scope","row"),q(l,"href",T="/shippers/"+s[5])},m(a,k){D(a,e,k),h(e,o),h(o,n),h(e,d),h(e,p),h(p,g),h(e,f),h(e,r),h(r,l),R(b,l,null),h(e,y),$=!0},p(a,k){(!$||k&1)&&t!==(t=a[5]+"")&&z(n,t),(!$||k&1)&&_!==(_=a[6]+"")&&z(g,_),(!$||k&1&&T!==(T="/shippers/"+a[5]))&&q(l,"href",T)},i(a){$||(H(b.$$.fragment,a),$=!0)},o(a){N(b.$$.fragment,a),$=!1},d(a){a&&u(e),W(b)}}}function he(s){let e,o;return{c(){e=v("p"),o=C("waiting for the promise to resolve...")},l(t){e=E(t,"P",{});var n=w(e);o=I(n,"waiting for the promise to resolve..."),n.forEach(u)},m(t,n){D(t,e,n),h(e,o)},p:B,i:B,o:B,d(t){t&&u(e)}}}function ue(s){let e,o,t,n,d,p,_,g;n=new ae({props:{limit:10,count:s[1]}}),n.$on("next",s[2]);let f={ctx:s,current:null,token:null,hasCatch:!0,pending:he,then:ie,catch:fe,value:4,error:9,blocks:[,,,]};return J(_=s[0],f),{c(){e=v("h1"),o=C("Shippers"),t=P(),L(n.$$.fragment),d=P(),p=K(),f.block.c()},l(r){e=E(r,"H1",{});var l=w(e);o=I(l,"Shippers"),l.forEach(u),t=A(r),O(n.$$.fragment,r),d=A(r),p=K(),f.block.l(r)},m(r,l){D(r,e,l),h(e,o),D(r,t,l),R(n,r,l),D(r,d,l),D(r,p,l),f.block.m(r,f.anchor=l),f.mount=()=>p.parentNode,f.anchor=p,g=!0},p(r,[l]){s=r;const b={};l&2&&(b.count=s[1]),n.$set(b),f.ctx=s,l&1&&_!==(_=s[0])&&J(_,f)||x(f,s,l)},i(r){g||(H(n.$$.fragment,r),H(f.block),g=!0)},o(r){N(n.$$.fragment,r);for(let l=0;l<3;l+=1){const b=f.blocks[l];N(b)}g=!1},d(r){r&&u(e),r&&u(t),W(n,r),r&&u(d),r&&u(p),f.block.d(r),f.token=null,f=null}}}function pe(s,e,o){let t,n,{data:d}=e;const p=async _=>{const g=_.detail.offset,f=10,r=`?limit=${f}&offset=${g}`;ne(r),o(0,t=await ce(f,g)),o(1,n=t.meta.count)};return s.$$set=_=>{"data"in _&&o(3,d=_.data)},s.$$.update=()=>{s.$$.dirty&8&&o(0,t=d),s.$$.dirty&1&&o(1,n=t.meta.count)},[t,n,p,d]}class ke extends U{constructor(e){super(),V(this,e,pe,ue,X,{data:3})}}export{ke as default};
