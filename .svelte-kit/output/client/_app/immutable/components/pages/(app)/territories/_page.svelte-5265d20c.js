import{S as U,i as V,s as X,Y as J,k as v,q as B,a as A,x as L,e as K,l as E,m as T,r as C,h,c as H,y as O,b as P,I as u,z as R,Z as x,f as q,t as N,A as W,u as z,C as S,n as I,g as tt,d as et,W as rt}from"../../../../chunks/index-867ab049.js";import{E as ot}from"../../../../chunks/edit-058cb14e.js";import{P as at,a as lt}from"../../../../chunks/Pager-3c02cb40.js";import{g as nt}from"../../../../chunks/navigation-8c5881c7.js";import{T as st}from"../../../../chunks/territory-06cbe7fc.js";import"../../../../chunks/index-4d8f42c1.js";async function ct(s,t){return await st.fetchPaged(s,t)}function M(s,t,o){const e=s.slice();return e[5]=t[o].TerritoryId,e[6]=t[o].TerritoryDescription,e}function it(s){let t=s[9]+"",o;return{c(){o=B(t)},l(e){o=C(e,t)},m(e,n){P(e,o,n)},p(e,n){n&1&&t!==(t=e[9]+"")&&z(o,t)},i:S,o:S,d(e){e&&h(o)}}}function ft(s){let t,o,e,n,p,m,d,g,i,r,l,b,w,y;l=new lt({});let $=s[4].resource,a=[];for(let f=0;f<$.length;f+=1)a[f]=Q(M(s,$,f));const k=f=>N(a[f],1,1,()=>{a[f]=null});return{c(){t=v("table"),o=v("thead"),e=v("th"),n=B("Id"),p=A(),m=v("th"),d=B("Name"),g=A(),i=v("th"),r=v("a"),L(l.$$.fragment),b=A(),w=v("tbody");for(let f=0;f<a.length;f+=1)a[f].c();this.h()},l(f){t=E(f,"TABLE",{role:!0});var _=T(t);o=E(_,"THEAD",{});var c=T(o);e=E(c,"TH",{scope:!0});var D=T(e);n=C(D,"Id"),D.forEach(h),p=H(c),m=E(c,"TH",{scope:!0});var Z=T(m);d=C(Z,"Name"),Z.forEach(h),g=H(c),i=E(c,"TH",{});var j=T(i);r=E(j,"A",{href:!0});var F=T(r);O(l.$$.fragment,F),F.forEach(h),j.forEach(h),c.forEach(h),b=H(_),w=E(_,"TBODY",{});var G=T(w);for(let Y=0;Y<a.length;Y+=1)a[Y].l(G);G.forEach(h),_.forEach(h),this.h()},h(){I(e,"scope","col"),I(m,"scope","col"),I(r,"href","/territories/new"),I(t,"role","grid")},m(f,_){P(f,t,_),u(t,o),u(o,e),u(e,n),u(o,p),u(o,m),u(m,d),u(o,g),u(o,i),u(i,r),R(l,r,null),u(t,b),u(t,w);for(let c=0;c<a.length;c+=1)a[c].m(w,null);y=!0},p(f,_){if(_&1){$=f[4].resource;let c;for(c=0;c<$.length;c+=1){const D=M(f,$,c);a[c]?(a[c].p(D,_),q(a[c],1)):(a[c]=Q(D),a[c].c(),q(a[c],1),a[c].m(w,null))}for(tt(),c=$.length;c<a.length;c+=1)k(c);et()}},i(f){if(!y){q(l.$$.fragment,f);for(let _=0;_<$.length;_+=1)q(a[_]);y=!0}},o(f){N(l.$$.fragment,f),a=a.filter(Boolean);for(let _=0;_<a.length;_+=1)N(a[_]);y=!1},d(f){f&&h(t),W(l),rt(a,f)}}}function Q(s){let t,o,e=s[5]+"",n,p,m,d=s[6]+"",g,i,r,l,b,w,y,$;return b=new ot({}),{c(){t=v("tr"),o=v("td"),n=B(e),p=A(),m=v("td"),g=B(d),i=A(),r=v("td"),l=v("a"),L(b.$$.fragment),y=A(),this.h()},l(a){t=E(a,"TR",{});var k=T(t);o=E(k,"TD",{scope:!0});var f=T(o);n=C(f,e),f.forEach(h),p=H(k),m=E(k,"TD",{});var _=T(m);g=C(_,d),_.forEach(h),i=H(k),r=E(k,"TD",{});var c=T(r);l=E(c,"A",{href:!0});var D=T(l);O(b.$$.fragment,D),D.forEach(h),c.forEach(h),y=H(k),k.forEach(h),this.h()},h(){I(o,"scope","row"),I(l,"href",w="/territories/"+s[5])},m(a,k){P(a,t,k),u(t,o),u(o,n),u(t,p),u(t,m),u(m,g),u(t,i),u(t,r),u(r,l),R(b,l,null),u(t,y),$=!0},p(a,k){(!$||k&1)&&e!==(e=a[5]+"")&&z(n,e),(!$||k&1)&&d!==(d=a[6]+"")&&z(g,d),(!$||k&1&&w!==(w="/territories/"+a[5]))&&I(l,"href",w)},i(a){$||(q(b.$$.fragment,a),$=!0)},o(a){N(b.$$.fragment,a),$=!1},d(a){a&&h(t),W(b)}}}function ut(s){let t,o;return{c(){t=v("p"),o=B("waiting for the promise to resolve...")},l(e){t=E(e,"P",{});var n=T(t);o=C(n,"waiting for the promise to resolve..."),n.forEach(h)},m(e,n){P(e,t,n),u(t,o)},p:S,i:S,o:S,d(e){e&&h(t)}}}function ht(s){let t,o,e,n,p,m,d,g;n=new at({props:{limit:10,count:s[1]}}),n.$on("next",s[2]);let i={ctx:s,current:null,token:null,hasCatch:!0,pending:ut,then:ft,catch:it,value:4,error:9,blocks:[,,,]};return J(d=s[0],i),{c(){t=v("h1"),o=B("Territories"),e=A(),L(n.$$.fragment),p=A(),m=K(),i.block.c()},l(r){t=E(r,"H1",{});var l=T(t);o=C(l,"Territories"),l.forEach(h),e=H(r),O(n.$$.fragment,r),p=H(r),m=K(),i.block.l(r)},m(r,l){P(r,t,l),u(t,o),P(r,e,l),R(n,r,l),P(r,p,l),P(r,m,l),i.block.m(r,i.anchor=l),i.mount=()=>m.parentNode,i.anchor=m,g=!0},p(r,[l]){s=r;const b={};l&2&&(b.count=s[1]),n.$set(b),i.ctx=s,l&1&&d!==(d=s[0])&&J(d,i)||x(i,s,l)},i(r){g||(q(n.$$.fragment,r),q(i.block),g=!0)},o(r){N(n.$$.fragment,r);for(let l=0;l<3;l+=1){const b=i.blocks[l];N(b)}g=!1},d(r){r&&h(t),r&&h(e),W(n,r),r&&h(p),r&&h(m),i.block.d(r),i.token=null,i=null}}}function mt(s,t,o){let e,n,{data:p}=t;const m=async d=>{const g=d.detail.offset,i=10,r=`?limit=${i}&offset=${g}`;nt(r),o(0,e=await ct(i,g)),o(1,n=e.meta.count)};return s.$$set=d=>{"data"in d&&o(3,p=d.data)},s.$$.update=()=>{s.$$.dirty&8&&o(0,e=p),s.$$.dirty&1&&o(1,n=e.meta.count)},[e,n,m,p]}class kt extends U{constructor(t){super(),V(this,t,mt,ht,X,{data:3})}}export{kt as default};
